<h1 class="h2 fw-normal">New Thread</h1>

<app-error-content [isError]="isError"></app-error-content>

<form [formGroup]="newThreadForm" (ngSubmit)="onSubmit()">
  <div class="form-group mb-2">
    <label for="title">Title</label>
    <input type="text" id="title" formControlName="title" class="form-control" />
    <div class="text-danger mt-2" *ngIf="title && title.errors && (title.dirty || title.touched)">
      <div *ngIf="title.errors.required">Title is required.</div>
      <div *ngIf="title.errors.minlength">Title must be at least 5 characters long.</div>
      <div *ngIf="title.errors.maxlength">Title must be no longer than 120 characters.</div>
    </div>
  </div>
  <div class="form-group mb-2">
    <label for="content">Content</label>
    <textarea id="content" formControlName="content" class="form-control" rows="10"></textarea>
    <div class="text-danger mt-2" *ngIf="content && content.errors && (content.dirty || content.touched)">
      <div *ngIf="content.errors.required">Content is required.</div>
      <div *ngIf="content.errors.minlength">Content must be at least 5 characters long.</div>
      <div *ngIf="content.errors.maxlength">Content must be no longer than 5000 characters.</div>
    </div>
  </div>
  <div class="d-flex justify-content-end gap-2">
    <button type="submit" class="btn btn-sm btn-success" [disabled]="newThreadForm.invalid">Create</button>
    <button type="button" class="btn btn-sm btn-danger" (click)="onCancel()">Cancel</button>
  </div>
</form>
